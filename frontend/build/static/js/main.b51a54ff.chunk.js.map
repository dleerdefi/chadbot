{"version":3,"sources":["components/ChatWindow.js","components/Login.js","components/Register.js","components/Account.js","App.js","index.js"],"names":["ChatWindow","_ref","user","messages","setMessages","input","setInput","useState","fetchMessages","useCallback","async","response","axios","get","data","error","console","useEffect","_jsxs","children","_jsx","map","message","index","text","onSubmit","event","preventDefault","trim","post","name","type","value","onChange","e","target","placeholder","Login","setUser","email","setEmail","password","setPassword","setError","navigate","useNavigate","style","color","onClick","handleGoogleLogin","window","location","href","Link","to","Register","username","setUsername","confirmPassword","setConfirmPassword","loginResponse","Account","App","loading","setLoading","fetchUser","Router","Routes","Route","path","element","Navigate","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b51a54ff.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ChatWindow = ({ user, messages, setMessages }) => {\r\n  const [input, setInput] = useState('');\r\n\r\n  const fetchMessages = useCallback(async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:3000/api/messages');\r\n      setMessages(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching messages:', error);\r\n    }\r\n  }, [setMessages]);\r\n\r\n  useEffect(() => {\r\n    fetchMessages();\r\n  }, [fetchMessages]);\r\n\r\n  const sendMessage = async (event) => {\r\n    event.preventDefault();\r\n    if (!input.trim()) return;\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:3000/api/messages', {\r\n        user: user.name,\r\n        text: input,\r\n      });\r\n      setMessages([...messages, ...response.data]);\r\n      setInput('');\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {messages.map((message, index) => (\r\n          <div key={index}>\r\n            <strong>{message.user}</strong>: {message.text}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <form onSubmit={sendMessage}>\r\n        <input\r\n          type=\"text\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          placeholder=\"Type a message...\"\r\n        />\r\n        <button type=\"submit\">Send</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatWindow;\r\n","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nconst Login = ({ setUser }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const response = await axios.post('/login', { email, password });\r\n      setUser(response.data);\r\n      navigate('/app');\r\n    } catch (error) {\r\n      setError('Error logging in');\r\n    }\r\n  };\r\n\r\n  const handleGoogleLogin = () => {\r\n    window.location.href = '/auth/google';\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Login</h2>\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n      <form onSubmit={handleLogin}>\r\n        <div>\r\n          <label>Email</label>\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Password</label>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Login</button>\r\n      </form>\r\n      <button onClick={handleGoogleLogin}>Login with Google</button>\r\n      <Link to=\"/register\">Need an account? Register</Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nconst Register = ({ setUser }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleRegister = async (event) => {\r\n    event.preventDefault();\r\n    if (password !== confirmPassword) {\r\n      setError('Passwords do not match');\r\n      return;\r\n    }\r\n    try {\r\n      await axios.post('/register', { email, username, password });\r\n      const loginResponse = await axios.post('/login', { email, password });\r\n      setUser(loginResponse.data);\r\n      navigate('/app');\r\n    } catch (error) {\r\n      setError('Error registering user');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Register</h2>\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n      <form onSubmit={handleRegister}>\r\n        <div>\r\n          <label>Email</label>\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Username</label>\r\n          <input\r\n            type=\"text\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Password</label>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Confirm Password</label>\r\n          <input\r\n            type=\"password\"\r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Register</button>\r\n      </form>\r\n      <Link to=\"/login\">Already have an account? Login</Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nconst Account = () => {\r\n  return (\r\n    <div>\r\n      <h1>Account Page</h1>\r\n      <p>This is the account page.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Account;\r\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport ChatWindow from './components/ChatWindow';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Account from './components/Account';\n\nconst App = () => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const response = await axios.get('/api/current_user');\n        setUser(response.data);\n      } catch (error) {\n        console.error('Error fetching current user:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUser();\n  }, []);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/login\" element={user ? <Navigate to=\"/app\" /> : <Login setUser={setUser} />} />\n        <Route path=\"/register\" element={user ? <Navigate to=\"/app\" /> : <Register setUser={setUser} />} />\n        <Route path=\"/app\" element={user ? <ChatWindow user={user} /> : <Navigate to=\"/login\" />} />\n        <Route path=\"/account\" element={user ? <Account user={user} /> : <Navigate to=\"/login\" />} />\n        <Route path=\"/\" element={<Navigate to={user ? \"/app\" : \"/login\"} />} />\n      </Routes>\n    </Router>\n  );\n};\n\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}